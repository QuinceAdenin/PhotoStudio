<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Photo Sessions</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<h1>Photo Sessions</h1>

<div class="search-form">
  <form th:action="@{/sessions/search}" method="get">
    <label>
      Status:
      <select name="status">
        <option value="">All</option>
        <option value="planned">Planned</option>
        <option value="completed">Completed</option>
        <option value="canceled">Canceled</option>
      </select>
    </label>
    <button type="submit">Filter</button>
  </form>
</div>

<a th:href="@{/sessions/new}">Create New Session</a>

<table>
  <thead>
  <tr>
    <th>ID</th>
    <th>Client</th>
    <th>Service</th>
    <th>Date & Time</th>
    <th>Status</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="session : ${sessions}">
    <td th:text="${session.id}"></td>
    <td th:text="${session.client.fullName}"></td>
    <td th:text="${session.serviceType.name}"></td>
    <td th:text="${#temporals.format(session.startTime, 'dd.MM.yyyy HH:mm')}"></td>
    <td th:text="${session.status}"></td>
    <td>
      <a th:href="@{/sessions/{id}(id=${session.id})}">View</a>
    </td>
  </tr>
  </tbody>
</table>
</body>
</html>